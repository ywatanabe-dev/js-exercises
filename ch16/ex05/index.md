### 標準入力、標準出力、標準エラー出力

UNIXのプロセスは、記述子(descriptor)を使ってI/Oストリームを参照する。ほとんどの場合、プロセスが起動時に以下の3つの記述子が開かれている。通常これらの識別子は、下記のようにログインプロセスによりユーザの端末に割り当てられている。

- 0: 標準入力

  キーボードからの入力を受け取る

- 1: 標準出力

  通常の出力(エラーでない出力)を受け取り、端末の画面に表示する。

- 2: 標準エラー出力

  エラー出力を受け取り、端末の画面に表示する。

### リダイレクト

これらの記述子を端末以外のオブジェクトに割り当てることもできる。このような割り当てを、I/Oリダイレクトと呼ぶ。リダイレクトを使うと、以下のような操作が可能になる。

- 記述子1(標準出力)を閉じて、別のファイルを記述子1として開くことで、出力をファイルに書き込むことができる。
- 記述子0(標準入力)を閉じて、別のファイルを記述子0として開くことで、ファイルの内容を標準入力で受け取るようにできる。

### パイプ

プログラムの出力を他のプログラムの入力にするための仕組みをパイプと呼ぶ。
具体的には、出力側のプログラムの記述子1(標準出力)をパイプの入力記述子に割り当て、入力側のプログラムの記述子0(標準入力)をパイプの出力記述子に割り当てることで実現する。

### 実験結果の予測と結果

- `node cat.mjs`

  予想：何も出力されずプログラムが終了する。
  結果：入力待ちになり、入力された内容が都度出力される。

- `echo FOO | node cat.mjs`

  予想："FOO"が出力される。
  結果：予想と同じ。

- `node cat.mjs > output.txt`

  予想：入力待ちになり、プログラムを終了するまで入力した内容がoutput.txtに書き込まれる。
  結果：予想と同じ。

- `node cat.mjs file`

  予想：fileの中身が出力される。
  結果：予想と同じ。

- `node cat.mjs file > output.txt`

  予想：fileの中身がoutput.txtに書き込まれる。
  結果：予想と同じ。

- `node cat.mjs invalid-file > output.txt`

  予想：空のoutput.txtが生成される。
  結果：予想と同じ。(エラーが出力される)

- `node cat.mjs invalid-file 2> error.txt`

  予想：プログラムのエラーの内容がerror.txtに書き込まれる。端末にエラーは出力されない。
  結果：予想と同じ。

参考：https://docs.freebsd.org/ja/books/design-44bsd/index.html
(リンク先は4.4BSDの説明であるが、UNIX like OSであれば共通する概念である)
